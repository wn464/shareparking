<!doctype html>
<html lang="en">
<head>
	<title>主页！！！</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<link rel="stylesheet" href="assets/vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/vendor/font-awesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="assets/vendor/linearicons/style.css">
	<link rel="stylesheet" href="assets/vendor/chartist/css/chartist-custom.css">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/demo.css">
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">
	<link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
	<link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon.png">
</head>
<body>
	<div id="wrapper">
		<nav class="navbar navbar-default navbar-fixed-top" id="toping"></nav>
	<!--侧边栏-->
		<div id="sidebar-nav" class="sidebar">
			<div class="sidebar-scroll">
				<nav>
					<ul class="nav" >
						<li><a href="index.html" class=""><i class="lnr lnr-home"></i> <span>共享车位主页</span></a></li>
						<li v-if="shabi.authority.id==2"><a href="log.html" class=""><i class="lnr lnr-file-empty"></i> <span>日志管理</span></a></li>
						
						<li><a href="order.html" class=""><i class="lnr lnr-map"></i> <span>订单中心</span></a></li>
						<li><a href="car.html" class=""><i class="lnr lnr-map-marker"></i> <span>车位信息</span></a></li>
						<li><a href="member.html" class=""><i class="lnr lnr-users"></i> <span>用户管理</span></a></li>
						<li><a href="message.html" class=""><i class="lnr lnr-bookmark"></i> <span>用户车位审核</span></a></li>
						<li><a href="money.html" class="active"><i class="lnr lnr-linearicons"></i> <span>财务统计</span></a></li>
						<li><a href="complain.html" class=""><i class="lnr lnr-chart-bars"></i> <span>投诉管理</span></a></li>
						<li><a href="user-change.html" class=""><i class="lnr lnr-user"></i> <span>个人信息管理</span></a></li>
						<li v-if="shabi.authority.id==2"><a href="authority.html" class=""><i class="lnr lnr-cog"></i><span>操作权限管理</span></a></li>
					</ul>
				</nav>
			</div>
		</div>
		<div class="main">
			<div class="main-content">
				<div class="container-fluid">
		
					<!-- END OVERVIEW -->
					<div class="row">
						<div class="col-md-7">
							<!-- RECENT PURCHASES -->
							<div class="panel">
								<p></p>
								<p style="font-size: 20px;font-weight: 800;text-align: center;">营业额查询</p>
						<div style="height: 250px; width: 580px;  margin: 50px 0 10px 130px;margin-top: 55px;">
			         		
			         		<form class="form-inline" role="form">
			         <!-- 通过年份查询财务信息 -->
			  					<div class="form-group" style="font-size: 18px;">
			  						<label for="inputEmail3" class="control-label">输 入 要 查 询 的 年 份 ： &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
			    					<select class="form-control" style="margin-right: 100px;" id="sel1">
									  
									  <option value="2019"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;2 0 1 9  年  &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</option>
									  <option value="2018"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;2 0 1 8  年  &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</option>
									  <option value="2017"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;2 0 1 7  年  &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</option>
									</select>
			    					<input type="button" value="查询" class="btn btn-info" onclick="year()"/>
			  					</div>
			  			<!-- 显示信息的位置 -->		
			  					<div  class="form-group" style="margin-bottom: 0; font-size: 18px;" id="div1">
			  						<input type="text" class="form-control" id="" style="margin:10px 100px 10px 100px; visibility: hidden">
			  					</div>
			  					
			         <!-- 通过月份查询财务信息 -->
			  					<div class="form-group" style=" font-size: 18px;">
			  						<label for="inputEmail3" class="control-label">输 入 要 查 询 的 月 份 ： &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
			    					<input type="month" class="form-control" id="month-inpt" style="margin-right: 100px;" >
			    					<input type="button" value="查询" class="btn btn-info"  onclick="month()"/>
			  					</div>
			  					<!-- 显示信息的位置 -->	
			  					<div  class="form-group" style="margin-bottom: 0; font-size: 18px;" id="div2">
			  						<input type="text" class="form-control" id="" style="margin:10px 100px 10px 100px; visibility: hidden">
			  					</div>
			  					
			  		 <!-- 通过日期查询财务信息 -->
			  					<div class="form-group" style="font-size: 18px;">
			  						<label for="inputEmail3" class="control-label">输 入 要 查 询 的 日  期  ： &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
			    					<input type="date" class="form-control" id="date-inpt" style="margin-right: 100px;">
			    					<input type="button" value="查询" class="btn btn-info" onclick="date()"/>
			  					</div>			
			  					<!-- 显示信息的位置 -->	
								<div  class="form-group" style="margin-bottom: 0; font-size: 18px;" id="div3">
			  						<input type="text" class="form-control" id="" style="margin:10px 100px 10px 100px; visibility: hidden">
			  					</div>
							</form>
			         	</div>
								
								
							</div>
							<!-- END RECENT PURCHASES -->
						</div>
						<div class="col-md-5">
							<!-- MULTI CHARTS -->
							<div class="panel">
								<div class="panel-heading">
									<h3 class="panel-title" style="font-weight: 800;">查询结果</h3>
									<div class="right">
										<button type="button" class="btn-toggle-collapse"><i class="lnr lnr-chevron-up"></i></button>
										<button type="button" class="btn-remove"><i class="lnr lnr-cross"></i></button>
									</div>
								</div>
								<div class="panel-body">
									<div class="col-md-6">
									<div class="metric" style="height: 85px;width: 440px;margin-bottom: 5px;">
										<span class="icon"><i class="fa fa-money"></i></span>
										<p>
											<span class="number" style="color: #5bc0de;" id="s-year">￥0</span>
											<span class="title">年营业额</span>
										</p>
									</div>
									<div class="metric" style="height: 85px;width: 440px;margin-bottom: 5px;">
										<span class="icon"><i class="fa fa-money"></i></span>
										<p>
											<span class="number" style="color: #5bc0de;" id="s-month">￥0</span>
											<span class="title">月营业额</span>
										</p>
									</div>
									<div class="metric" style="height: 85px;width: 440px;margin-bottom: 5px;">
										<span class="icon"><i class="fa fa-money"></i></span>
										<p>
											<span class="number" style="color: #5bc0de;" id="s-date">￥0</span>
											<span class="title"  >日营业额</span>
										</p>
									</div>
								</div>
								</div>
							</div>
							<!-- END MULTI CHARTS -->
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<!-- TODO LIST -->
							<div class="panel">
								<div class="panel-heading">
									<h3 class="panel-title" style="font-weight: 800;">查询营业额走势图</h3>
									<div class="right">
										<button type="button" class="btn-toggle-collapse"><i class="lnr lnr-chevron-up"></i></button>
										<button type="button" class="btn-remove"><i class="lnr lnr-cross"></i></button>
									</div>
								</div>
								<div class="panel-body">
								<div style="height: 100px; width: 1200px;  margin: 50px 0 0 50px;">
					         		<form class="form-inline" role="form">
					         			<div class="form-group" style="font-size: 18px;">
					  						<label for="inputEmail3" class="control-label">输入年份：&nbsp;&nbsp;&nbsp;&nbsp;</label>
					    					<select class="form-control" style="margin-right: 50px;" id="y-sel">
											  <option value="2019"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;2 0 1 9  年 &nbsp; &nbsp;&nbsp;</option>
											  <option value="2018"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;2 0 1 8  年  &nbsp; &nbsp;&nbsp;</option>
											  <option value="2017"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;2 0 1 7  年 &nbsp; &nbsp;&nbsp;</option>
											</select>
											<label for="inputEmail3" class="control-label">起始月份 ： &nbsp;&nbsp;&nbsp;&nbsp;</label>
					    					<select class="form-control" style="margin-right: 50px;" id="m1-sel">
											  <option value="1"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;1月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="2"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;2月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="3"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;3月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="4"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;4月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="5"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;5月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="6"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;6月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="7"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;7月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="8"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;8月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="9"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;9月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="10"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;10月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="11"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;11月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="12"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;12月 &nbsp; &nbsp;&nbsp;</option>
											</select>
					    					<label for="inputEmail3" class="control-label">截止月份 ： &nbsp;&nbsp;&nbsp;&nbsp;</label>
					    					<select class="form-control" style="margin-right: 50px;" id="m2-sel">
											  <option value="1"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;1月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="2"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;2月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="3"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;3月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="4"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;4月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="5"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;5月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="6"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;6月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="7"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;7月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="8"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;8月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="9"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;9月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="10"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;10月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="11"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;11月 &nbsp; &nbsp;&nbsp;</option>
											  <option value="12"> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;12月 &nbsp; &nbsp;&nbsp;</option>
											</select>
					    					<input type="button" value="查询" class="btn btn-info" onclick="change()"/>
					  					</div>
					         		</form>
					         	</div>
								</div>
								
								 <div id="container" style="height: 500px"></div>
							</div>
							<!-- END TODO LIST -->
						</div>
						
					</div>
					
				</div>
			</div>
		</div>
		<div class="clearfix"></div>
		<footer>
			<div class="container-fluid">
				<p class="copyright">Copyright &copy; 2017.Company name All rights reserved.More Templates  - Collect from </p>
			</div>
		</footer>
	</div>
	<script src="assets/vendor/jquery/jquery.min.js"></script>
	<script src="assets/vendor/bootstrap/js/bootstrap.min.js"></script>
	<script src="assets/vendor/jquery-slimscroll/jquery.slimscroll.min.js"></script>
	<script src="assets/vendor/jquery.easy-pie-chart/jquery.easypiechart.min.js"></script>
	<script src="assets/vendor/chartist/js/chartist.min.js"></script>
	<script src="assets/scripts/klorofil-common.js"></script>
	<script type="text/javascript" src="assets/js/echarts.min.js" ></script>
	<script>
	//查询某年的总收入
	function year() {
		var year = $("#sel1 option:selected").val();
		$.ajax({
			url:"http://myzuul.com:9500/orders/order/year/"+year,
			type:"get",
			success:function(mes){
				console.info(mes)
				$("#s-year").html("￥"+mes)
			}
		})
	}
	//查询某月的总收入
	function month() {
		var str = $("#month-inpt").val()
			var year = str.substring(0,4)
			var month = str.substring(6,7)
			$.ajax({
				url:"http://myzuul.com:9500/orders/order/mth/"+year+"/"+month,
				type:"get",
				success:function(mes){
					console.info(mes)
					$("#s-month").html("￥"+mes)
				}
			})
		
	}
	//查询某天的总收入
	function date() {
			var date = $("#date-inpt").val()
			$.ajax({
				url:"http://myzuul.com:9500/orders/order/dates/"+date,
				type:"get",
				success:function(mes){
					console.info(mes)
					$("#s-date").html("￥"+mes)
				}
			})
		
	}
		

		/*加载公共页面*/
		$(function(){
			$("#toping").load("top.html");
		})

			//根据月份段查询收入
	function change() {
			var year = $("#y-sel option:selected").val();
			var smonth = $("#m1-sel option:selected").val();
			var emonth = $("#m2-sel option:selected").val();
			console.info(year)
	$.ajax({
		url:"http://myzuul.com:9500/orders/order/money/"+year+"/"+smonth+"/"+emonth,
		type:"get",
		success:function(mes){
			console.info(mes)

			var a = mes.double1[0]
			var	b = mes.double1[1]
			var	c = mes.double1[2]
			var	d = mes.double1[3]
			var	e = mes.double1[4]
			var f = mes.double1[5]
			var g = mes.double1[6]
			var h = mes.double1[7]
			var i = mes.double1[8]
			var j = mes.double1[9]
			var k = mes.double1[10]
			var l = mes.double1[11]
			
			var dom = document.getElementById("container");
			var myChart = echarts.init(dom);
			var app = {};
			option = null;
			option = {
			    
			    tooltip : {
			        trigger: 'axis',
			        axisPointer: {
			            type: 'cross',
			            label: {
			                backgroundColor: '#6a7985'
			            }
			        }
			    },
			    legend: {
			        data:['2019','2018','2017']
			    },
			    toolbox: {
			        feature: {
			            saveAsImage: {}
			        }
			    },
			    grid: {
			        left: '3%',
			        right: '4%',
			        bottom: '3%',
			        containLabel: true
			    },
			    xAxis : [
			        {
			            type : 'category',
			            boundaryGap : false,
			            data : ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月']
			        }
			    ],
			    yAxis : [
			        {
			        	name: "营业额", 
			            type : 'value',
			            axisLabel:{formatter:'{value}元'}
			        }
			    ],
			    series : [
			        {
			            name:year,
			            type:'line',
			            stack: '总量',
			            areaStyle: {},
			            data:[a, b, c, d, e, f, g, h, i, j, k, l],
			            itemStyle: {   
			                //通常情况下：
			                normal:{  
			　　　　　　　　　　　　//每个柱子的颜色即为colorList数组里的每一项，如果柱子数目多于colorList的长度，则柱子颜色循环使用该数组
			                    	
			                    lineStyle:{
									color:'#5bc0de'
								}

			                },
			                //鼠标悬停时：
			                emphasis: {
			                        shadowBlur: 10,
			                        shadowOffsetX: 0,
			                        shadowColor: 'red'
			                }
			            },
			            
			        }
// 			        ,
// 			        {
// 			            name:y2,
// 			            type:'line',
// 			            stack: '总量',
// 			            areaStyle: {},
// 			            data:[a1, b1, c1, d1, e1, f1, g1, h1, i1, j1, k1, l1]
// 			        },
// 			        {
// 			            name:y3,
// 			            type:'line',
// 			            stack: '总量',
// 			            areaStyle: {},
// 			            data:[a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2]
// 			        }
			    
			    ]
			};
			;
			if (option && typeof option === "object") {
			    myChart.setOption(option, true);
			}
		}
	})
	}
	change();
	var vm = new Vue({
		
		el:"#wrapper",
		data:{
			
			shabi:{}
		},
		created(){
		
			axios.post("http://myzuul.com:9500/user/user/username").then(res=>{
				this.shabi=res.data;

			})
			
		}
	})
	
	</script>
</body>
</html>